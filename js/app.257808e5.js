!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){(function(t){!function(r,n){"use strict";var o={};r.PubSub=o;var i=r.define;!function(t){var e={},r=-1;function n(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function o(t,e,r){try{t(e,r)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,r){t(e,r)}function c(t,r,n,c){var s,u=e[r],a=c?i:o;if(e.hasOwnProperty(r))for(s in u)u.hasOwnProperty(s)&&a(u[s],t,n)}function s(t,r,o,i){var s=function(t,e,r){return function(){var n=String(t),o=n.lastIndexOf(".");for(c(t,t,e,r);-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),c(t,n,e,r)}}(t="symbol"==typeof t?t.toString():t,r,i);return!!function(t){for(var r=String(t),o=Boolean(e.hasOwnProperty(r)&&n(e[r])),i=r.lastIndexOf(".");!o&&-1!==i;)i=(r=r.substr(0,i)).lastIndexOf("."),o=Boolean(e.hasOwnProperty(r)&&n(e[r]));return o}(t)&&(!0===o?s():setTimeout(s,0),!0)}t.publish=function(e,r){return s(e,r,!1,t.immediateExceptions)},t.publishSync=function(e,r){return s(e,r,!0,t.immediateExceptions)},t.subscribe=function(t,n){if("function"!=typeof n)return!1;t="symbol"==typeof t?t.toString():t,e.hasOwnProperty(t)||(e[t]={});var o="uid_"+String(++r);return e[t][o]=n,o},t.subscribeOnce=function(e,r){var n=t.subscribe(e,(function(){t.unsubscribe(n),r.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var r;for(r in e)e.hasOwnProperty(r)&&0===r.indexOf(t)&&delete e[r]},t.countSubscriptions=function(t){var r,n=0;for(r in e)e.hasOwnProperty(r)&&0===r.indexOf(t)&&n++;return n},t.getSubscriptions=function(t){var r,n=[];for(r in e)e.hasOwnProperty(r)&&0===r.indexOf(t)&&n.push(r);return n},t.unsubscribe=function(r){var n,o,i,c="string"==typeof r&&(e.hasOwnProperty(r)||function(t){var r;for(r in e)if(e.hasOwnProperty(r)&&0===r.indexOf(t))return!0;return!1}(r)),s=!c&&"string"==typeof r,u="function"==typeof r,a=!1;if(!c){for(n in e)if(e.hasOwnProperty(n)){if(o=e[n],s&&o[r]){delete o[r],a=r;break}if(u)for(i in o)o.hasOwnProperty(i)&&o[i]===r&&(delete o[i],a=!0)}return a}t.clearSubscriptions(r)}}(o),"function"==typeof i&&i.amd?i((function(){return o})):(void 0!==t&&t.exports&&(e=t.exports=o),e.PubSub=o,t.exports=e=o)}("object"==typeof window&&window||this)}).call(this,r(3)(t))},function(t){t.exports=JSON.parse('[{"id":0,"product":"Gritty Orange Sherbert","cost":7.77},{"id":1,"product":"Pie Pecan","cost":6.76},{"id":2,"product":"Ice Cream - Strawberry","cost":4.17},{"id":3,"product":"Soup - Campbells Beef Noodle","cost":5.56},{"id":4,"product":"Olives - Kalamata","cost":7.98},{"id":5,"product":"Fish - Artic Char, Cold Smoked","cost":9.28},{"id":6,"product":"Kale - Red","cost":3.78},{"id":7,"product":"Asparagus - White, Fresh","cost":5.31},{"id":8,"product":"Wine - Valpolicella Masi","cost":12.91},{"id":9,"product":"Mustard Prepared","cost":1.97},{"id":10,"product":"Truffle Paste","cost":3.25},{"id":11,"product":"Bread - Crusty Italian Poly","cost":7.72},{"id":12,"product":"Table Cloth 90x90 Colour","cost":8.02},{"id":13,"product":"Pear - Packum","cost":9.74},{"id":14,"product":"Toothpick Frilled","cost":5.84},{"id":15,"product":"Juice - Happy Planet","cost":5.89},{"id":16,"product":"Soup Campbells Beef With Veg","cost":2.48},{"id":17,"product":"Compound - Strawberry","cost":4.02},{"id":18,"product":"Wine - Zinfandel Rosenblum","cost":13.22},{"id":19,"product":"Lid - Translucent, 3.5 And 6 Oz","cost":4.47},{"id":20,"product":"Apple - Granny Smith","cost":5.61}]')},function(t,e,r){},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";r.r(e);r(2);var n=r(1),o=r(0),i=r.n(o);var c=class{constructor(){this.selector=".product",this.$productNodes,this.$store,this.$product,this.selectedProduct,this.handleClick=this.handleClick.bind(this),this.loadProducts=this.loadProducts.bind(this),this.addToCart=this.addToCart.bind(this)}setupEventHandler(){this.$productNodes=document.querySelectorAll(this.selector),this.$productNodes.forEach(t=>{t.addEventListener("click",this.handleClick)})}renderProducts(){let t="";n.forEach(e=>{t+=`<div class="product product-${e.id}" data-id="${e.id}"><button>${e.product} $${e.cost}</button></div>`});return document.createRange().createContextualFragment(t)}loadProducts(){const t=this.renderProducts();this.$inventory.appendChild(t)}handleClick(t){const e=t.currentTarget.dataset.id;this.selectedProduct=n.filter(t=>t.id===Number(e))[0],this.addToCart(this.selectedProduct)}addToCart(t){i.a.publish("cart-add-item",t)}init(){this.$inventory=document.querySelector("[data-inventory]"),this.loadProducts(),this.setupEventHandler()}};var s=class{constructor(){this.selector="[data-cart]";sessionStorage.setItem("cart",JSON.stringify({items:[],total:0})),this.cart=JSON.parse(sessionStorage.getItem("cart")),this.updateCart=this.updateCart.bind(this)}getCart(){return JSON.parse(sessionStorage.getItem("cart"))}renderItem(t){return`<li class="cart--product cart--product-${t.id}" data-id="${t.id}">\n        ${t.product} $${t.cost}\n      </li>`}renderCart(){const t=this.getCart();let e="";t.items.forEach(t=>{e+=this.renderItem(t)});const r=document.createRange().createContextualFragment(e);this.$cart.innerHTML="",this.$cart.appendChild(r)}updateCart(t,e){const r=this.cart;r.items.push(e),sessionStorage.setItem("cart",JSON.stringify(r)),this.renderCart()}init(){this.$cart=document.querySelector(this.selector),i.a.subscribe("cart-add-item",this.updateCart)}};(new class{init(){window.onload=()=>{(new c).init();(new s).init()}}}).init();(new(void 0)).init()}]);
//# sourceMappingURL=app.257808e5.js.map