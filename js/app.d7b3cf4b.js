!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=23)}([function(t,r,e){(function(t){!function(e,n){"use strict";var o={};e.PubSub=o;var i=e.define;!function(t){var r={},e=-1;function n(t){var r;for(r in t)if(t.hasOwnProperty(r))return!0;return!1}function o(t,r,e){try{t(r,e)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,r,e){t(r,e)}function c(t,e,n,c){var u,s=r[e],a=c?i:o;if(r.hasOwnProperty(e))for(u in s)s.hasOwnProperty(u)&&a(s[u],t,n)}function u(t,e,o,i){var u=function(t,r,e){return function(){var n=String(t),o=n.lastIndexOf(".");for(c(t,t,r,e);-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),c(t,n,r,e)}}(t="symbol"==typeof t?t.toString():t,e,i);return!!function(t){for(var e=String(t),o=Boolean(r.hasOwnProperty(e)&&n(r[e])),i=e.lastIndexOf(".");!o&&-1!==i;)i=(e=e.substr(0,i)).lastIndexOf("."),o=Boolean(r.hasOwnProperty(e)&&n(r[e]));return o}(t)&&(!0===o?u():setTimeout(u,0),!0)}t.publish=function(r,e){return u(r,e,!1,t.immediateExceptions)},t.publishSync=function(r,e){return u(r,e,!0,t.immediateExceptions)},t.subscribe=function(t,n){if("function"!=typeof n)return!1;t="symbol"==typeof t?t.toString():t,r.hasOwnProperty(t)||(r[t]={});var o="uid_"+String(++e);return r[t][o]=n,o},t.subscribeOnce=function(r,e){var n=t.subscribe(r,(function(){t.unsubscribe(n),e.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){r={}},t.clearSubscriptions=function(t){var e;for(e in r)r.hasOwnProperty(e)&&0===e.indexOf(t)&&delete r[e]},t.countSubscriptions=function(t){var e,n=0;for(e in r)r.hasOwnProperty(e)&&0===e.indexOf(t)&&n++;return n},t.getSubscriptions=function(t){var e,n=[];for(e in r)r.hasOwnProperty(e)&&0===e.indexOf(t)&&n.push(e);return n},t.unsubscribe=function(e){var n,o,i,c="string"==typeof e&&(r.hasOwnProperty(e)||function(t){var e;for(e in r)if(r.hasOwnProperty(e)&&0===e.indexOf(t))return!0;return!1}(e)),u=!c&&"string"==typeof e,s="function"==typeof e,a=!1;if(!c){for(n in r)if(r.hasOwnProperty(n)){if(o=r[n],u&&o[e]){delete o[e],a=e;break}if(s)for(i in o)o.hasOwnProperty(i)&&o[i]===e&&(delete o[i],a=!0)}return a}t.clearSubscriptions(e)}}(o),"function"==typeof i&&i.amd?i((function(){return o})):(void 0!==t&&t.exports&&(r=t.exports=o),r.PubSub=o,t.exports=r=o)}("object"==typeof window&&window||this)}).call(this,e(8)(t))},function(t,r,e){var n=e(3).Symbol;t.exports=n},function(t){t.exports=JSON.parse('[{"id":0,"product":"Gritty Orange Sherbert","cost":7.77},{"id":1,"product":"Pie Pecan","cost":6.76},{"id":2,"product":"Ice Cream - Strawberry","cost":4.17},{"id":3,"product":"Soup - Campbells Beef Noodle","cost":5.56},{"id":4,"product":"Olives - Kalamata","cost":7.98},{"id":5,"product":"Fish - Artic Char, Cold Smoked","cost":9.28},{"id":6,"product":"Kale - Red","cost":3.78},{"id":7,"product":"Asparagus - White, Fresh","cost":5.31},{"id":8,"product":"Wine - Valpolicella Masi","cost":12.91},{"id":9,"product":"Mustard Prepared","cost":1.97},{"id":10,"product":"Truffle Paste","cost":3.25},{"id":11,"product":"Bread - Crusty Italian Poly","cost":7.72},{"id":12,"product":"Table Cloth 90x90 Colour","cost":8.02},{"id":13,"product":"Pear - Packum","cost":9.74},{"id":14,"product":"Toothpick Frilled","cost":5.84},{"id":15,"product":"Juice - Happy Planet","cost":5.89},{"id":16,"product":"Soup Campbells Beef With Veg","cost":2.48},{"id":17,"product":"Compound - Strawberry","cost":4.02},{"id":18,"product":"Wine - Zinfandel Rosenblum","cost":13.22},{"id":19,"product":"Lid - Translucent, 3.5 And 6 Oz","cost":4.47},{"id":20,"product":"Apple - Granny Smith","cost":5.61}]')},function(t,r,e){var n=e(10),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},function(t,r,e){var n=e(14),o=e(5),i=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=n(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var e=u.test(t);return e||s.test(t)?a(t.slice(2),e?2:8):c.test(t)?NaN:+t}},function(t,r,e){var n=e(15),o=e(18);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},function(t,r,e){var n=e(9)("round");t.exports=n},function(t,r,e){},function(t,r){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,r,e){var n=e(3),o=e(12),i=e(4),c=e(19),u=n.isFinite,s=Math.min;t.exports=function(t){var r=Math[t];return function(t,e){if(t=i(t),(e=null==e?0:s(o(e),292))&&u(t)){var n=(c(t)+"e").split("e"),a=r(n[0]+"e"+(+n[1]+e));return+((n=(c(a)+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}},function(t,r,e){(function(r){var e="object"==typeof r&&r&&r.Object===Object&&r;t.exports=e}).call(this,e(11))},function(t,r){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,r,e){var n=e(13);t.exports=function(t){var r=n(t),e=r%1;return r==r?e?r-e:r:0}},function(t,r,e){var n=e(4);t.exports=function(t){return t?(t=n(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,r){t.exports=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}},function(t,r,e){var n=e(1),o=e(16),i=e(17),c=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?o(t):i(t)}},function(t,r,e){var n=e(1),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var r=i.call(t,u),e=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=c.call(t);return n&&(r?t[u]=e:delete t[u]),o}},function(t,r){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,r){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,r,e){var n=e(20);t.exports=function(t){return null==t?"":n(t)}},function(t,r,e){var n=e(1),o=e(21),i=e(22),c=e(5),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(r){if("string"==typeof r)return r;if(i(r))return o(r,t)+"";if(c(r))return s?s.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e}},function(t,r){t.exports=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o}},function(t,r){var e=Array.isArray;t.exports=e},function(t,r,e){"use strict";e.r(r);e(7);var n=e(2),o=e(0),i=e.n(o);var c=class{constructor(){this.selector=".product",this.$productNodes,this.$store,this.$product,this.selectedProduct,this.handleClick=this.handleClick.bind(this),this.loadProducts=this.loadProducts.bind(this),this.addToCart=this.addToCart.bind(this)}setupEventHandler(){this.$productNodes=document.querySelectorAll(this.selector),this.$productNodes.forEach(t=>{t.addEventListener("click",this.handleClick)})}renderProducts(){let t="";n.forEach(r=>{t+=`<div class="product product-${r.id}" data-id="${r.id}"><button>${r.product} $${r.cost}</button></div>`});return document.createRange().createContextualFragment(t)}loadProducts(){const t=this.renderProducts();this.$inventory.appendChild(t)}handleClick(t){const r=t.currentTarget.dataset.id;this.selectedProduct=n.filter(t=>t.id===Number(r))[0],this.addToCart(this.selectedProduct)}addToCart(t){i.a.publish("cart-add-item",t)}init(){this.$inventory=document.querySelector("[data-inventory]"),this.loadProducts(),this.setupEventHandler()}},u=e(6),s=e.n(u);var a=class{constructor(){this.selector="[data-cart]",this.$cartTotal=document.querySelector("[data-cart-total]");sessionStorage.setItem("cart",JSON.stringify({items:[],total:0})),this.cart=JSON.parse(sessionStorage.getItem("cart")),this.updateCart=this.updateCart.bind(this)}getCart(){return JSON.parse(sessionStorage.getItem("cart"))}renderItem(t){return`<li class="cart--product cart--product-${t.id}" data-id="${t.id}">\n        ${t.product} $${t.cost}\n      </li>`}renderTotal(t){const r=t&&"$"+t.toFixed(2);this.$cartTotal.innerHTML=r}renderCart(){const t=this.getCart();let r="";t.items.forEach(t=>{r+=this.renderItem(t)});const e=document.createRange().createContextualFragment(r);this.$cart.innerHTML="",this.$cart.appendChild(e)}updateCart(t,r){const e=this.cart;e.items.push(r);const n=e.items.reduce((t,r)=>(t+=r.cost,s()(t,2)),0);e.total=n,sessionStorage.setItem("cart",JSON.stringify(e)),this.renderCart(),this.renderTotal(e.total)}init(){this.$cart=document.querySelector(this.selector),i.a.subscribe("cart-add-item",this.updateCart)}};(new class{init(){window.onload=()=>{(new c).init();(new a).init()}}}).init();(new(void 0)).init()}]);
//# sourceMappingURL=app.d7b3cf4b.js.map